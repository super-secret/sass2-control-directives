# Sass: Control Directive, Functions, and other worlds.

- Explain what a preprocessor is and what problem it solves
- Use control directives for conditionals (@if)
- Use control directives for loops (@for, @each and @while)
- Use pure Sass functions to make reusable logic

## Intro (10 min)

We are moving into the more programmatic portion of SassScript: conditionals, loops, and functions.

### Intro to SassScript

We've been playing with SassScript.  Sass is fully CSS3-compatible, meaning you *can* write css the way you always have.  But, where's the fun in that? More importantly, you can start with a plain old css file and enhance it.  You can use SassScript to make writing css more pleasant.  Note: this doesn't change the functionality of css.  In the end, Sass uses a concise language, SassScript, to generate the verbose css required to make your page sing.

> Q: If I said SassScript is like other languages, what would you expect?
---

It has:
- variables
- conditionals
- loops
- functions
- reuse form other files

It has all that.


### Sass Features

- Fully CSS3-compatible
- Language extensions such as variables, nesting, and mixins
- Many useful functions for manipulating colors and other values
- Advanced features like control directives for libraries
- Well-formatted, customizable output

In this lesson, we are covering the portions that helpers that enhance css.  The next lesson will dig deeper into the programmatic aspects of Sass.

## Preprocessor? Precompiler? (10 min)

How do we use it?

![Compile Steps](http://i0.wp.com/css-diary.com/wp-content/uploads/2014/07/sass.png?resize=700%2C400)

```
gem install sass
```
```
sass --watch input:output
```

### Example:

Start with this:
```
├── assets
│   └── sass
│       └── style.scss
└── public
```
Precomile the sass to css.
```
sass --watch assets/sass/style.scss:public/style.css
```
Results in:
```
├── assets
│   └── sass
│       └── style.scss
└── public
    └── style.css
```

Q. What happens in our code?
---

> A.
The browser only supports CSS.  We reference the compiled **css** file.  Our front-end **ignores the sass**.  That's why we don't put the sass files in "public/".

## style.scss vs style.sass (5 min)

Sass supports to "styles": sass (*.sass) and Sassy CSS (*.scss).  They both use the same SassScript.  The .scss format is a superset of CSS3.  The .sass is a bit more concise and uses indentation to indicate blocks of CSS, but it requires a full rewrite of your css.

Further reading: http://thesassway.com/editorial/sass-vs-scss-which-syntax-is-better


## Conditionals (@if)

Let's take a few minutes to read about [@if](http://sass-lang.com/documentation/file.SASS_REFERENCE.html#control_directives__expressions)

> Q: Any points of interest?

---

A. Student responses.


### Exercise: Flash (15 min)

Let's go back to the Flash messages.  This time, we will create mixin with a conditional that sets the text color to `#fff` if the background is dark enough and `#000` if the background is light enough.

[Solution](http://codepen.io/adambray/pen/vLgrKK)

Hint: research how you can determine the "lightness" of a color using SASS.

## Loops

Look at [BAMSAY](http://codepen.io/jshawl/full/cLJal)

Check out the css.  Lots of text-shadow's, huh?  You want to type all of them?

Q. Why not?
---

> A.
- boring!
- error prone
- time consuming
- maintenance?

Let's systematize it.  Let's specify what it takes to draw these shadows.  And then **codify** it.

Q. How did we create BAMSAY?
---

> A. Lot's of text-shadows.

### Exercise: BAMSAY (20 min)

http://github.com/ga-dc/bamsay

Hint: you can't just add a bunch of box shadow properties... each will over-write
the previous... instead you'll need to create one box-shadow property with a lot
of values comma separated... look up how to append values in SASS.

## Lunch (60 min)

## 3D Button (15 min)

On to the next goal. A button.  A big, cool, [3D button](http://codepen.io/adambray/full/rxjKWR/).

Check out the css.  More text-shadows?  
All the reasons from before apply, plus... how do I know what to type?  This one is complicated.

Again, let's identify, systematize, and **codify** what it means to be a 3D button.

Q: How?  How does this button work?
---

- up
  - Flat rectangle
  - Lots of box-shadows, layer upon layer
  - color?  Relative?
- down
  - shift right, down
  - less box-shadows

### Exercise: Make It So (45 min)

- [Starter](http://codepen.io/adambray/pen/xZgzgK?editors=110)
- [Solution](http://codepen.io/adambray/pen/xZgzgK?editors=110)

Timings:
- 5 min: Flat button, Hover state changes it.  Breaking down box-shadows. Identifying the pattern.
- 10 min: Realizing that you don't want to type all that. :)  Ignore it.  Get a basic button working.
  - You will need a loop:
```
$offset: 10;
@for $i from 0 through $offset{
  text-shadow: 0+$i,
}
```
- 20 min: You have worked out the plan for the button and have started to codify it.

[Thanks jshawl!](https://jesse.sh/makes-3d-buttons-with-sass/)

Now we've added "function" and "mixin" to our list, joining "variables" and "loops".

## Break (10 min)

## Sass and Rails (30 min)

The [sass-rails gem](https://github.com/rails/sass-rails) is provided for working with Sass in Rails. I found that my words of wisdom were lining up with nicely with their documentation.  They've got you covered.  

### Research (15 min)

That said, let's practice reading documentation together. We'll discuss how to pull out the important points and gotchas.
https://github.com/rails/sass-rails

Q. What stood out to you?
---

> A.
- Sass is supported by default (by Asset Pipeline).
- Configuration has caveats.  Must review when/if I configure something.
- Important Note!?!
- Glob Imports.  Looks powerful.  Note the "Note".
- One "Asset Helper" for each media type.  Where are the "Asset Helpers" used?  
- Tests?  Why would I run the tests?

### Organization

http://www.mattboldt.com/organizing-css-and-sass-rails/

Don't miss the comments.

#### tl;dr

- Use @import to explicitly require each file you need, in the order you require them (rather than `*= require_tree .`).  Judicious use of  file glob `@import "mixins/*"`).
- Use `main.scss` to load your app's dependencies (vars, mixins, etc.), then the page styles.
- Development adds links to .scss source
- Load vendors (i.e. Bootstrap) in application.css, before you include main.scss
- Note: You need to load all your dependencies in the file that uses them.  If you have more than one layout, you may need a "main" file for each, to load the dependencies in each.

The [Rails Guides](http://guides.rubyonrails.org/asset_pipeline.html) are a recommended resource too.

## Conclusion

We covered a lot about Sass, but we're really just scratching the surface.  Make time to review the docs and look over fun examples online.  It's important get some more ideas about what we can do with sass and css.

- How we use sass files in a standard html page?
- Do we need to run `sass --watch` when working in Rails?
- What directive should we use to require other sass files?
- Name 3 benefits of Sass.

## [Optional] Review an app from Project 3.  Look for ways to remove duplication and improve documenting intent.

## References
- [3D Buttons with Sass](https://jesse.sh/makes-3d-buttons-with-sass/)
- [WDI5](https://github.com/ga-dc/milk-and-cookies/tree/master/w10/d01_sass)
- http://precess.co
